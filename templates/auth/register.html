{% extends "layout.html" %}

{% block title %}Create Your LOKI Account{% endblock %}

{% block content %}
<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card shadow">
                <div class="card-header text-white" style="background: linear-gradient(135deg, #4568dc, #b06ab3);">
                    <h3 class="mb-0"><i class="fas fa-user-plus mr-2"></i> Join LOKI for A-Level Computer Science</h3>
                </div>
                <div class="card-body">
                    {% with messages = get_flashed_messages(with_categories=true) %}
                        {% if messages %}
                            {% for category, message in messages %}
                                <div class="alert alert-{{ category }}">{{ message }}</div>
                            {% endfor %}
                        {% endif %}
                    {% endwith %}
                    
                    <form method="POST" action="{{ url_for('auth.register') }}" id="registerForm">
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="first_name"><i class="fas fa-user mr-1"></i> First Name</label>
                                <input type="text" class="form-control" id="first_name" name="first_name" required>
                            </div>
                            <div class="form-group col-md-6">
                                <label for="last_name"><i class="fas fa-user mr-1"></i> Last Name</label>
                                <input type="text" class="form-control" id="last_name" name="last_name" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="email"><i class="fas fa-envelope mr-1"></i> Email</label>
                            <input type="email" class="form-control" id="email" name="email" required>
                            <small class="form-text text-muted">We'll never share your email with anyone else.</small>
                        </div>
                        <div class="form-group">
                            <label for="password"><i class="fas fa-lock mr-1"></i> Password</label>
                            <input type="password" class="form-control" id="password" name="password" required minlength="8">
                            <div class="password-strength-meter mt-2"></div>
                            <small class="form-text text-muted">Password must be at least 8 characters long and include a mix of letters, numbers, and special characters.</small>
                        </div>
                        <div class="form-group">
                            <label for="confirm_password"><i class="fas fa-lock mr-1"></i> Confirm Password</label>
                            <input type="password" class="form-control" id="confirm_password" name="confirm_password" required>
                        </div>
                        <div class="form-group form-check">
                            <input type="checkbox" class="form-check-input" id="terms" name="terms" required>
                            <label class="form-check-label" for="terms">I agree to the <a href="#" data-toggle="modal" data-target="#termsModal">Terms and Conditions</a></label>
                        </div>
                        <button type="submit" class="btn btn-primary btn-lg btn-block"><i class="fas fa-user-plus mr-2"></i> Create Account</button>
                    </form>
                    
                    <hr>
                    
                    <div class="text-center">
                        <p>Already have an account? <a href="{{ url_for('auth.login') }}" class="font-weight-bold">Sign In</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Terms and Conditions Modal -->
<div class="modal fade" id="termsModal" tabindex="-1" role="dialog" aria-labelledby="termsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="termsModalLabel">Terms and Conditions</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <h4>1. Introduction</h4>
                <p>Welcome to OCR A-Level Computer Science AI Tutor. By using our service, you agree to these terms and conditions.</p>
                
                <h4>2. Subscription and Payments</h4>
                <p>Our service requires a subscription. You will be charged according to the plan you select. You can cancel your subscription at any time, but no refunds will be provided for partial months.</p>
                
                <h4>3. User Accounts</h4>
                <p>You are responsible for maintaining the confidentiality of your account information and for all activities that occur under your account.</p>
                
                <h4>4. Acceptable Use</h4>
                <p>You agree not to use the service for any illegal or unauthorized purpose. You must not attempt to gain unauthorized access to any part of the service.</p>
                
                <h4>5. Intellectual Property</h4>
                <p>All content provided through the service is owned by us or our licensors and is protected by copyright and other intellectual property laws.</p>
                
                <h4>6. Privacy</h4>
                <p>Your privacy is important to us. Please review our Privacy Policy to understand how we collect, use, and disclose information about you.</p>
                
                <h4>7. Termination</h4>
                <p>We reserve the right to terminate or suspend your account and access to the service at our sole discretion, without notice, for conduct that we believe violates these terms or is harmful to other users of the service, us, or third parties, or for any other reason.</p>
                
                <h4>8. Disclaimer of Warranties</h4>
                <p>The service is provided "as is" without warranties of any kind, either express or implied.</p>
                
                <h4>9. Limitation of Liability</h4>
                <p>In no event shall we be liable for any indirect, incidental, special, consequential, or punitive damages, or any loss of profits or revenues.</p>
                
                <h4>10. Changes to Terms</h4>
                <p>We reserve the right to modify these terms at any time. Your continued use of the service after any such changes constitutes your acceptance of the new terms.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">I Understand</button>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/register.js') }}"></script>
{% endblock %}
