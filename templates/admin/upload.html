<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload Resources - OCR A-Level Computer Science AI Tutor</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container">
        <header>
            <h1>OCR A-Level Computer Science AI Tutor</h1>
            <p>Upload Resources</p>
            <nav class="admin-nav">
                <ul>
                    <li><a href="{{ url_for('admin_dashboard') }}">Dashboard</a></li>
                    <li><a href="{{ url_for('admin_resources') }}">Resources</a></li>
                    <li><a href="{{ url_for('admin_upload') }}" class="active">Upload</a></li>
                    <li><a href="{{ url_for('logout') }}">Logout</a></li>
                </ul>
            </nav>
        </header>
        
        <main class="admin-upload">
            <h2>Upload Learning Resources</h2>
            
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    {% for category, message in messages %}
                        <div class="alert alert-{{ category }}">{{ message }}</div>
                    {% endfor %}
                {% endif %}
            {% endwith %}
            
            <div class="upload-form-container">
                <form method="POST" action="{{ url_for('admin_upload') }}" enctype="multipart/form-data" class="upload-form">
                    <div class="form-group">
                        <label for="file">Select File:</label>
                        <input type="file" id="file" name="file" required>
                        <p class="form-help">Supported file types: PDF, TXT, MD, PY, JAVA, C, CPP, CS</p>
                    </div>
                    
                    <div class="form-group">
                        <label for="category">Category (Optional):</label>
                        <input type="text" id="category" name="category">
                        <p class="form-help">E.g., "1.1.1", "2.3", or leave blank for auto-categorization</p>
                    </div>
                    
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">Upload File</button>
                        <a href="{{ url_for('admin_resources') }}" class="btn btn-secondary">Cancel</a>
                    </div>
                </form>
            </div>
            
            <div class="upload-instructions">
                <h3>Upload Instructions</h3>
                <p>To enhance the AI tutor's knowledge base:</p>
                <ol>
                    <li>Select a file containing OCR A-Level Computer Science content</li>
                    <li>Optionally specify a category to help with content organization</li>
                    <li>Click "Upload File" to process and add the content to the knowledge base</li>
                </ol>
                <p>The system will automatically extract text from PDFs and other documents, then categorize the content based on OCR curriculum topics.</p>
                <p>For best results, upload resources that clearly relate to specific OCR A-Level Computer Science topics.</p>
            </div>
        </main>
        
        <footer>
            <p>&copy; 2025 OCR A-Level Computer Science AI Tutor</p>
        </footer>
    </div>
</body>
</html>
